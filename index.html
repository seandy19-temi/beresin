<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8">
  <title>Www.Rombonganjarangbeli.Com</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background: #eee;
      margin: 0;
      padding: 0;
      display: flex;
      justify-content: center;
      align-items: center;
      height: 100vh;
    }

    .chat-container {
      background: #fff;
      width: 400px;
      max-width: 90%;
      border-radius: 10px;
      box-shadow: 0 0 10px rgba(0,0,0,0.2);
      display: flex;
      flex-direction: column;
      overflow: hidden;
    }

    .chat-header {
      background: #007bff;
      color: white;
      padding: 15px;
      text-align: center;
    }
    .subtext {
      font-size: 14px;
      font-weight: normal;
      margin-top: 5px;
      color: #dff0ff;
    }


    #chatbox {
      flex: 1;
      padding: 15px;
      overflow-y: auto;
      border-top: 1px solid #ccc;
      border-bottom: 1px solid #ccc;
      max-height: 300px;
    }

    .chat-input {
      display: flex;
      padding: 10px;
      gap: 10px;
    }

    .chat-input input {
      flex: 1;
      padding: 10px;
      border-radius: 5px;
      border: 1px solid #ccc;
    }

    .chat-input button {
      padding: 10px 15px;
      background: #007bff;
      color: white;
      border: none;
      border-radius: 5px;
      cursor: pointer;
    }

    .chat-input button:hover {
      background: #0056b3;
    }

    .message {
      margin-bottom: 10px;
    }

    .message.kamu {
      text-align: right;
    }

    .message.bot {
      text-align: left;
      color: #007bff;
    }

    img, video {
      max-width: 100%;
      border-radius: 5px;
      margin-top: 5px;
    }

    .whatsapp-button {
      display: inline-block;
      background-color: #25D366;
      color: white;
      padding: 8px 12px;
      border-radius: 5px;
      text-decoration: none;
      font-weight: bold;
      font-size: 14px;
      margin-top: 5px;
    }

    .whatsapp-button:hover {
      background-color: #1ebe5b;
    }

    .typing {
      font-style: italic;
      color: #888;
    }
  </style>
</head>
<body>

<div class="chat-container">
  <div class="chat-header">
  Www.Rombonganjarangbeli.Com
  <div class="subtext"> Yuk Cari Tau lebih Lanjut dengan tanya ke Rojali!!! </div>
</div>
  <div class="chat-subtext">ðŸ‘‹ Halo, ada yang bisa Rojali bantu?</div>
  <div id="chatbox"></div>
  <div class="chat-input">
    <input type="text" id="userInput" placeholder="Ketik pesan...">
    <button onclick="sendMessage()">Kirim</button>
  </div>
</div>

<script>
  const chatbox = document.getElementById('chatbox');
  const input = document.getElementById('userInput');

  function appendMessage(role, message) {
    const msgDiv = document.createElement('div');
    msgDiv.className = 'message ' + (role === 'Kamu' ? 'kamu' : 'bot');

    if (message.match(/\.(jpeg|jpg|png|gif|webp)$/i)) {
      msgDiv.innerHTML = `<strong>${role}:</strong><br><img src="${message}" alt="gambar">`;

    } else if (message.match(/\.(mp4|webm)$/i)) {
      msgDiv.innerHTML = `<strong>${role}:</strong><br><video src="${message}" controls></video>`;

    } else if (message.includes("https://wa.me/")) {
      const link = message.match(/https:\/\/wa\.me\/[0-9?=A-Za-z%]+/g)?.[0];
      msgDiv.innerHTML = `<strong>${role}:</strong><br>
        <a class="whatsapp-button" href="${link}" target="_blank">ðŸ’¬ Hubungi via WhatsApp</a>`;

    } else if (message.startsWith("http")) {
      msgDiv.innerHTML = `<strong>${role}:</strong> <a href="${message}" target="_blank">${message}</a>`;

    } else {
      msgDiv.innerHTML = `<strong>${role}:</strong> ${message}`;
    }

    chatbox.appendChild(msgDiv);
    chatbox.scrollTop = chatbox.scrollHeight;
  }

  function getBotReply(userMessage) {
    userMessage = userMessage.toLowerCase();

    if (userMessage.includes("halo") || userMessage.includes("hai")) {
      return "Hai juga! Selamat datang.";
    } else if (userMessage.includes("cs") || userMessage.includes("sambungkan")) {
      return "__whatsapp_request__";
    } else if (userMessage.includes("kucing")) {
      return "https://upload.wikimedia.org/wikipedia/commons/3/3a/Cat03.jpg";
    } else if (userMessage.includes("anjing")) {
      return "https://images.dog.ceo/breeds/hound-afghan/n02088094_1003.jpg";
    } else if (userMessage.includes("video")) {
      return "https://www.w3schools.com/html/mov_bbb.mp4";
    } else {
      return "Maaf, saya tidak mengerti.";
    }
  }

  function sendMessage() {
    const message = input.value.trim();
    if (!message) return;

    appendMessage("Kamu", message);
    input.value = "";

    setTimeout(() => {
      const reply = getBotReply(message);

      if (reply === "__whatsapp_request__") {
        appendMessage("Bot", "Baik, tunggu sebentar boss...");

        const typingDiv = document.createElement('div');
        typingDiv.className = 'message bot typing';
        typingDiv.textContent = "Bot sedang mengetik...";
        chatbox.appendChild(typingDiv);
        chatbox.scrollTop = chatbox.scrollHeight;

        setTimeout(() => {
          chatbox.removeChild(typingDiv);
          const link = "https://wa.me/6282121171931?text=Halo%20saya%20ingin%20terhubung%20dengan%20admin";
          appendMessage("Bot", link);
        }, 1500);

      } else {
        appendMessage("Bot", reply);
      }
    }, 500);
  }

  input.addEventListener("keypress", function (e) {
    if (e.key === "Enter") sendMessage();
  });
</script>

</body>
</html>
